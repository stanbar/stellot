(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"/sTe":function(e,t,a){"use strict";a.r(t);a("BoS7");var l=a("Sdc0"),n=(a("giR+"),a("fyUT")),i=(a("7Kak"),a("9yH6")),r=(a("+L6B"),a("2/Rp")),c=(a("tU7J"),a("wFql")),o=(a("jCWc"),a("kPKH")),m=(a("14J3"),a("BMrR")),u=(a("5NDa"),a("5rEg")),s=(a("y8nQ"),a("Vl3Y")),E=a("qIgq"),p=a.n(E),d=a("q1tI"),v=a.n(d),b=a("71ry"),y=a("JKkQ");function g(e){return e&&0!==e.length&&e.trim()}var h=a("ih5i"),I=a("/MKj"),f=a("NFtC"),C=a.n(f),B=e=>{var t=e.dispatch,a=e.loading,E=s["a"].useForm(),d=p()(E,1),I=d[0],f=e=>{var a=e;console.log({val:a});var l={title:a.title,description:a.description,options:a.options.filter(g).map((e,t)=>({name:e,code:t+1})),authorization:a.authorization,visibility:a.visibility,votesCap:a.votesCap,encrypted:a.encrypted,challenges:a.challenges};console.log({createVoting:l}),Object(h["dispatchCreateVoting"])(t,l)};return v.a.createElement(s["a"],{layout:"vertical",form:I,name:"options_form",onFinish:f,initialValues:{votesCap:100,authorization:"public",visibility:"public",encrypted:!1,challenges:100}},v.a.createElement(s["a"].Item,{name:"title",label:"Title",rules:[{required:!0}]},v.a.createElement(u["a"],{placeholder:"Favorite color"})),v.a.createElement(s["a"].Item,{name:"description",label:"Description",rules:[{required:!0}]},v.a.createElement(u["a"],{placeholder:"What is your favorite color ?"})),v.a.createElement(s["a"].List,{name:"options"},(e,t)=>{var a=t.add,l=t.remove;return v.a.createElement("div",null,e.map((e,t)=>v.a.createElement(s["a"].Item,{label:0===t?"Options":"",required:0===t,key:e.key},v.a.createElement(m["a"],null,v.a.createElement(o["a"],{flex:"10px",style:{marginRight:10}},v.a.createElement(c["a"],null,t+1)),v.a.createElement(o["a"],{flex:"auto"},v.a.createElement(s["a"].Item,Object.assign({},e,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input option value or delete this field."}],noStyle:!0}),v.a.createElement(u["a"],{placeholder:"Option",style:{marginRight:32}}))),v.a.createElement(o["a"],{flex:"30px",style:{marginRight:10}},v.a.createElement(b["MinusCircleOutlined"],{className:C.a.dynamicDeleteButton,onClick:()=>{l(e.name)}}))))),v.a.createElement(s["a"].Item,null,v.a.createElement(r["a"],{type:"dashed",onClick:()=>{a()}},v.a.createElement(b["PlusOutlined"],null)," Add an option")))}),v.a.createElement(s["a"].Item,{name:"authorization",label:"Authorization method"},v.a.createElement(i["a"].Group,null,v.a.createElement(i["a"].Button,{value:y["a"].PUBLIC},"Public"),v.a.createElement(i["a"].Button,{value:y["a"].EMAIL},"Emails"),v.a.createElement(i["a"].Button,{value:y["a"].CODE},"Codes"))),v.a.createElement(s["a"].Item,{name:"visibility",label:"Voting visibility"},v.a.createElement(i["a"].Group,null,v.a.createElement(i["a"].Button,{value:y["b"].PUBLIC},"Public"),v.a.createElement(i["a"].Button,{value:y["b"].UNLISTED},"Unlisted"),v.a.createElement(i["a"].Button,{value:y["b"].PRIVATE},"Private"))),v.a.createElement(s["a"].Item,{label:"Number of votes cap"},v.a.createElement(s["a"].Item,{name:"votesCap",noStyle:!0},v.a.createElement(n["a"],{min:2}))),v.a.createElement(s["a"].Item,{name:"encrypted",label:"Encrypt results until the end of voting",valuePropName:"checked"},v.a.createElement(l["a"],null)),v.a.createElement(s["a"].Item,{label:"Security level (number of challenges)"},v.a.createElement(s["a"].Item,{name:"challenges",noStyle:!0},v.a.createElement(n["a"],{min:2,max:100}))),v.a.createElement(s["a"].Item,null,v.a.createElement(r["a"],{type:"primary",htmlType:"submit",loading:a},"Create")))};t["default"]=Object(I["c"])(e=>{var t=e.loading;return{loading:t.effects["".concat(h["CREATE"],"/").concat(h["CREATE_VOTING"])]}})(B)},JKkQ:function(e,t,a){"use strict";var l,n;a.d(t,"b",function(){return l}),a.d(t,"a",function(){return n}),function(e){e["PUBLIC"]="public",e["UNLISTED"]="unlisted",e["PRIVATE"]="private"}(l||(l={})),function(e){e["PUBLIC"]="public",e["EMAIL"]="email",e["CODE"]="code",e["CUSTOM"]="custom"}(n||(n={}))},NFtC:function(e,t,a){e.exports={"dynamic-delete-button":"dynamic-delete-button___NsKQg"}}}]);