(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"/sTe":function(e,t,a){"use strict";a.r(t);a("BoS7");var l=a("Sdc0"),n=(a("iQDF"),a("+eQT")),i=(a("giR+"),a("fyUT")),r=(a("7Kak"),a("9yH6")),o=(a("+L6B"),a("2/Rp")),c=(a("tU7J"),a("wFql")),m=(a("jCWc"),a("kPKH")),u=(a("14J3"),a("BMrR")),s=(a("5NDa"),a("5rEg")),E=(a("y8nQ"),a("Vl3Y")),p=a("qIgq"),d=a.n(p),h=a("q1tI"),g=a.n(h),y=a("71ry"),b=a("hBab"),v=a("c+yx"),f=a("ih5i"),I=a("/MKj"),C=a("NFtC"),O=a.n(C),A=e=>{var t=e.dispatch,a=e.loading,p=E["a"].useForm(),h=d()(p,1),I=h[0],C=e=>{var a=e;console.log({val:a});var l={title:a.title,polls:[{question:a.question,options:[a.first,a.second,...a.options||[]].filter(v["b"]).map((e,t)=>({name:e,code:t+1}))}],authorization:a.authorization,authorizationOptions:a.authorizationOptions,visibility:a.visibility,votesCap:a.votesCap,encrypted:a.encrypted,challenges:a.challenges,startDate:a.period[0],endDate:a.period[1]};console.log({createVoting:l}),Object(f["dispatchCreateVoting"])(t,l)};return g.a.createElement(E["a"],{layout:"vertical",form:I,name:"options_form",onFinish:C,scrollToFirstError:!0,initialValues:{votesCap:100,authorization:b["Authorization"].OPEN,visibility:b["Visibility"].PUBLIC,encrypted:!1,challenges:100}},g.a.createElement(E["a"].Item,{name:"title",label:"Title",rules:[{required:!0,whitespace:!0,message:"Please input option value or delete this field."}]},g.a.createElement(s["a"],{placeholder:"Favourite colour"})),g.a.createElement(E["a"].Item,{name:"question",label:"Question",rules:[{required:!0,whitespace:!0,message:"Please input option value or delete this field."}]},g.a.createElement(s["a"],{placeholder:"What is your favourite colour ?"})),g.a.createElement(E["a"].Item,{label:"Options"},g.a.createElement(u["a"],null,g.a.createElement(m["a"],{flex:"10px",style:{marginRight:10}},g.a.createElement(c["a"],null,"1")),g.a.createElement(m["a"],{flex:"auto"},g.a.createElement(E["a"].Item,{name:"first",key:"first",validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input option value or delete this field."}],noStyle:!0},g.a.createElement(s["a"],{placeholder:"Blue",style:{marginRight:32}}))),g.a.createElement(m["a"],{flex:"30px",style:{marginRight:10}}))),g.a.createElement(E["a"].Item,null,g.a.createElement(u["a"],null,g.a.createElement(m["a"],{flex:"10px",style:{marginRight:10}},g.a.createElement(c["a"],null,"2")),g.a.createElement(m["a"],{flex:"auto"},g.a.createElement(E["a"].Item,{name:"second",key:"second",validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input option value or delete this field."}],noStyle:!0},g.a.createElement(s["a"],{placeholder:"Red",style:{marginRight:32}}))),g.a.createElement(m["a"],{flex:"30px",style:{marginRight:10}}))),g.a.createElement(E["a"].List,{name:"options"},(e,t)=>{var a=t.add,l=t.remove;return g.a.createElement("div",null,e.map((e,t)=>g.a.createElement(E["a"].Item,{label:"",required:!1,key:e.key},g.a.createElement(u["a"],null,g.a.createElement(m["a"],{flex:"10px",style:{marginRight:10}},g.a.createElement(c["a"],null,t+3)),g.a.createElement(m["a"],{flex:"auto"},g.a.createElement(E["a"].Item,Object.assign({},e,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input option value or delete this field."}],noStyle:!0}),g.a.createElement(s["a"],{placeholder:"Option",style:{marginRight:32}}))),g.a.createElement(m["a"],{flex:"30px",style:{marginRight:10}},g.a.createElement(y["MinusCircleOutlined"],{className:O.a.dynamicDeleteButton,onClick:()=>{l(e.name)}}))))),g.a.createElement(E["a"].Item,null,g.a.createElement(o["a"],{type:"dashed",onClick:()=>{a()}},g.a.createElement(y["PlusOutlined"],null)," Add an option")))}),g.a.createElement(E["a"].Item,{name:"authorization",label:"Authorization method"},g.a.createElement(r["a"].Group,null,g.a.createElement(r["a"].Button,{value:b["Authorization"].OPEN},Object(v["a"])(b["Authorization"].OPEN)),g.a.createElement(r["a"].Button,{disabled:!0,value:b["Authorization"].EMAIL},Object(v["a"])(b["Authorization"].EMAIL)),g.a.createElement(r["a"].Button,{disabled:!0,value:b["Authorization"].CODE},Object(v["a"])(b["Authorization"].CODE)),g.a.createElement(r["a"].Button,{value:b["Authorization"].KEYBASE},Object(v["a"])(b["Authorization"].KEYBASE)))),g.a.createElement(E["a"].Item,{noStyle:!0,shouldUpdate:(e,t)=>e.authorization!==t.authorization},e=>{var t=e.getFieldValue;return console.log(t("authorization")),t("authorization")===b["Authorization"].KEYBASE?g.a.createElement(E["a"].Item,{name:["authorizationOptions","team"],label:"(Optional) Team membership",rules:[{whitespace:!0,message:"Please input option value or delete this field."}]},g.a.createElement(s["a"],{placeholder:"stellar.public"})):null}),g.a.createElement(E["a"].Item,{name:"visibility",label:"Listing visibility"},g.a.createElement(r["a"].Group,null,g.a.createElement(r["a"].Button,{value:b["Visibility"].PUBLIC},Object(v["a"])(b["Visibility"].PUBLIC)),g.a.createElement(r["a"].Button,{value:b["Visibility"].UNLISTED},Object(v["a"])(b["Visibility"].UNLISTED)),g.a.createElement(r["a"].Button,{value:b["Visibility"].PRIVATE},Object(v["a"])(b["Visibility"].PRIVATE)))),g.a.createElement(E["a"].Item,{label:"Number of votes cap"},g.a.createElement(E["a"].Item,{name:"votesCap",noStyle:!0},g.a.createElement(i["a"],{min:2}))),g.a.createElement(E["a"].Item,{name:"period",label:"Select time period",rules:[{type:"array",required:!0,message:"Please select time!"}]},g.a.createElement(n["a"].RangePicker,null)),g.a.createElement(E["a"].Item,{name:"encrypted",label:"Encrypt results until the end of voting",valuePropName:"checked"},g.a.createElement(l["a"],null)),g.a.createElement(E["a"].Item,{label:"Security level (number of challenges)"},g.a.createElement(E["a"].Item,{name:"challenges",noStyle:!0},g.a.createElement(i["a"],{min:2,max:100}))),g.a.createElement(E["a"].Item,null,g.a.createElement(o["a"],{type:"primary",htmlType:"submit",loading:a},a?"Creating...":"Create")))};t["default"]=Object(I["c"])(e=>{var t=e.loading;return{loading:t.effects["".concat(f["CREATE"],"/").concat(f["CREATE_VOTING"])]}})(A)},NFtC:function(e,t,a){e.exports={"dynamic-delete-button":"dynamic-delete-button___NsKQg"}},"c+yx":function(e,t,a){"use strict";(function(e){function l(e){return e&&0!==e.length&&e.trim()}function n(e){return e.charAt(0).toUpperCase()+e.substring(1)}a.d(t,"b",function(){return l}),a.d(t,"a",function(){return n})}).call(this,a("tjlA").Buffer)}}]);