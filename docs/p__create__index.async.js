(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"/sTe":function(e,t,a){"use strict";a.r(t);a("BoS7");var n=a("Sdc0"),l=(a("iQDF"),a("+eQT")),r=(a("giR+"),a("fyUT")),i=(a("7Kak"),a("9yH6")),c=(a("+L6B"),a("2/Rp")),o=(a("tU7J"),a("wFql")),m=(a("jCWc"),a("kPKH")),u=(a("14J3"),a("BMrR")),s=(a("5NDa"),a("5rEg")),E=(a("y8nQ"),a("Vl3Y")),d=a("qIgq"),p=a.n(d),b=a("q1tI"),y=a.n(b),v=a("71ry"),g=a("JKkQ"),h=a("c+yx"),f=a("ih5i"),I=a("/MKj"),C=a("NFtC"),O=a.n(C),P=e=>{var t=e.dispatch,a=e.loading,d=E["a"].useForm(),b=p()(d,1),I=b[0],C=e=>{var a=e;console.log({val:a});var n={title:a.title,polls:[{question:a.question,options:a.options.filter(h["b"]).map((e,t)=>({name:e,code:t+1}))}],authorization:a.authorization,visibility:a.visibility,votesCap:a.votesCap,encrypted:a.encrypted,challenges:a.challenges,startDate:a.period[0],endDate:a.period[1]};console.log({createVoting:n}),Object(f["dispatchCreateVoting"])(t,n)};return y.a.createElement(E["a"],{layout:"vertical",form:I,name:"options_form",onFinish:C,initialValues:{votesCap:100,authorization:g["a"].OPEN,visibility:g["b"].PUBLIC,encrypted:!1,challenges:100}},y.a.createElement(E["a"].Item,{name:"title",label:"Title",rules:[{required:!0}]},y.a.createElement(s["a"],{placeholder:"Favourite colour"})),y.a.createElement(E["a"].Item,{name:"question",label:"Question",rules:[{required:!0}]},y.a.createElement(s["a"],{placeholder:"What is your favourite colour ?"})),y.a.createElement(E["a"].List,{name:"options"},(e,t)=>{var a=t.add,n=t.remove;return y.a.createElement("div",null,e.map((e,t)=>y.a.createElement(E["a"].Item,{label:0===t?"Options":"",required:0===t,key:e.key},y.a.createElement(u["a"],null,y.a.createElement(m["a"],{flex:"10px",style:{marginRight:10}},y.a.createElement(o["a"],null,t+1)),y.a.createElement(m["a"],{flex:"auto"},y.a.createElement(E["a"].Item,Object.assign({},e,{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input option value or delete this field."}],noStyle:!0}),y.a.createElement(s["a"],{placeholder:"Option",style:{marginRight:32}}))),y.a.createElement(m["a"],{flex:"30px",style:{marginRight:10}},y.a.createElement(v["MinusCircleOutlined"],{className:O.a.dynamicDeleteButton,onClick:()=>{n(e.name)}}))))),y.a.createElement(E["a"].Item,null,y.a.createElement(c["a"],{type:"dashed",onClick:()=>{a()}},y.a.createElement(v["PlusOutlined"],null)," Add an option")))}),y.a.createElement(E["a"].Item,{name:"authorization",label:"Authorization method"},y.a.createElement(i["a"].Group,null,y.a.createElement(i["a"].Button,{value:g["a"].OPEN},Object(h["a"])(g["a"].OPEN)),y.a.createElement(i["a"].Button,{value:g["a"].EMAIL},Object(h["a"])(g["a"].EMAIL)),y.a.createElement(i["a"].Button,{value:g["a"].CODE},Object(h["a"])(g["a"].CODE)))),y.a.createElement(E["a"].Item,{name:"visibility",label:"Listing visibility"},y.a.createElement(i["a"].Group,null,y.a.createElement(i["a"].Button,{value:g["b"].PUBLIC},Object(h["a"])(g["b"].PUBLIC)),y.a.createElement(i["a"].Button,{value:g["b"].UNLISTED},Object(h["a"])(g["b"].UNLISTED)),y.a.createElement(i["a"].Button,{value:g["b"].PRIVATE},Object(h["a"])(g["b"].PRIVATE)))),y.a.createElement(E["a"].Item,{label:"Number of votes cap"},y.a.createElement(E["a"].Item,{name:"votesCap",noStyle:!0},y.a.createElement(r["a"],{min:2}))),y.a.createElement(E["a"].Item,{name:"period",label:"Select time period",rules:[{type:"array",required:!0,message:"Please select time!"}]},y.a.createElement(l["a"].RangePicker,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"})),y.a.createElement(E["a"].Item,{name:"encrypted",label:"Encrypt results until the end of voting",valuePropName:"checked"},y.a.createElement(n["a"],null)),y.a.createElement(E["a"].Item,{label:"Security level (number of challenges)"},y.a.createElement(E["a"].Item,{name:"challenges",noStyle:!0},y.a.createElement(r["a"],{min:2,max:100}))),y.a.createElement(E["a"].Item,null,y.a.createElement(c["a"],{type:"primary",htmlType:"submit",loading:a},"Create")))};t["default"]=Object(I["c"])(e=>{var t=e.loading;return{loading:t.effects["".concat(f["CREATE"],"/").concat(f["CREATE_VOTING"])]}})(P)},JKkQ:function(e,t,a){"use strict";var n,l;a.d(t,"b",function(){return n}),a.d(t,"a",function(){return l}),function(e){e["PUBLIC"]="public",e["UNLISTED"]="unlisted",e["PRIVATE"]="private"}(n||(n={})),function(e){e["OPEN"]="open",e["EMAIL"]="email",e["CODE"]="code",e["CUSTOM"]="custom"}(l||(l={}))},NFtC:function(e,t,a){e.exports={"dynamic-delete-button":"dynamic-delete-button___NsKQg"}},"c+yx":function(e,t,a){"use strict";(function(e){function n(e){return e&&0!==e.length&&e.trim()}function l(e){return e.charAt(0).toUpperCase()+e.substring(1)}a.d(t,"b",function(){return n}),a.d(t,"a",function(){return l})}).call(this,a("tjlA").Buffer)}}]);