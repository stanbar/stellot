(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{CQ3q:function(e,t,n){"use strict";var a=n("fFZ8"),o=n.n(a),r=n("vOnD"),i="#ffffff",l="#979797",u="#6c72f9";function c(){var e=o()(["\n  background-color: ",";\n  width: 150px;\n  font-size: 16px;\n  padding: 10px 0;\n  &:disabled {\n    opacity: 0.5;\n    cursor: default;\n  }\n"]);return c=function(){return e},e}function s(){var e=o()(["\n  background-color: ",";\n  float: right;\n  font-size: 16px;\n  margin-left: 10px;\n  padding: 10px 0;\n  width: 120px;\n  &:disabled {\n    background: ",";\n    opacity: 0.6;\n    pointer-events: none;\n    cursor: default;\n  }\n"]);return s=function(){return e},e}function d(){var e=o()(["\n  background-color: ",";\n  border-radius: 5px;\n  border: 0;\n  color: ",";\n  cursor: pointer;\n  font-family: 'Clear Sans Bold','Nitti Grotesk','Museo Sans','Helvetica Neue',Verdana,Arial,sans-serif;\n  font-size: 18px;\n  font-weight: 500;\n  line-height: initial;\n  padding: 14px 0 18px 0;\n  &:hover {\n    opacity: 0.8;\n  }\n  &:focus {\n    outline: 0;\n  }\n"]);return d=function(){return e},e}n.d(t,"a",function(){return m}),n.d(t,"b",function(){return E});var v=r["a"].button(d(),u,i),m=Object(r["a"])(v)(s(),e=>e.color,l),E=Object(r["a"])(v)(c(),e=>e.color?e.color:u)},JKkQ:function(e,t,n){"use strict";var a,o;n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o}),function(e){e["PUBLIC"]="public",e["UNLISTED"]="unlisted",e["PRIVATE"]="private"}(a||(a={})),function(e){e["PUBLIC"]="public",e["EMAIL"]="email",e["CODE"]="code",e["CUSTOM"]="custom"}(o||(o={}))},vHNZ:function(e,t,n){"use strict";n.r(t);n("5NDa");var a=n("5rEg"),o=(n("7Kak"),n("9yH6")),r=(n("/xke"),n("TeRw")),i=(n("y8nQ"),n("Vl3Y")),l=n("qIgq"),u=n.n(l),c=n("q1tI"),s=n.n(c),d=n("tbAx"),v=n("/MKj"),m=n("JKkQ"),E=n("CQ3q"),p=n("71ry"),f=n("wd/R"),h=n.n(f),g=(n("MXD1"),n("CFYs")),b=(n("2qtc"),n("kLXV")),I=n("6gli"),N=n("3a4m"),O=n.n(N);function y(e){var t=7;switch(e){case I["a"].INITIALIZING:return Math.round(1/t*100);case I["a"].CREATING_BLINDED_TRANSACTIONS:return Math.round(2/t*100);case I["a"].REQUESTED_CHALLENGE:return Math.round(3/t*100);case I["a"].PROOFING_CHALLENGE:return Math.round(4/t*100);case I["a"].CALCULATING_SIGNATURE:return Math.round(5/t*100);case I["a"].CASTING_VOTE:return Math.round(6/t*100);case I["a"].DONE:return Math.round(7/t*100);default:case I["a"].UNDEFINED:return 0}}function x(e){switch(e){case I["a"].ERROR:return"exception";case I["a"].DONE:return"success";case I["a"].UNDEFINED:return"normal";default:return"active"}}var T=e=>{var t=e.dispatch,n=e.voting,a=e.status,o=e.txHash;if(!n||!a)return s.a.createElement(s.a.Fragment,null);var r=a!==I["a"].UNDEFINED&&void 0!==a,i=a===I["a"].ERROR||a===I["a"].DONE,l=()=>{O.a.replace("/voting/".concat(n.slug,"/results"))};return s.a.createElement(b["a"],{visible:r,closable:!1,width:300,okText:"Show results",onOk:l,onCancel:()=>Object(d["dispatchSetStatus"])(t,I["a"].UNDEFINED,void 0),okButtonProps:{disabled:!i},cancelButtonProps:{disabled:!i},bodyStyle:{textAlign:"center"}},s.a.createElement(g["a"],{type:"circle",percent:y(a),status:x(a)}),s.a.createElement("p",null,a),o&&s.a.createElement("a",{href:"http://testnet.stellarchain.io/tx/".concat(o),target:"_blank",rel:"noreferrer noopener"},"Show transaction in explorer"))},C=Object(v["c"])(e=>{var t=e.voting;return{voting:t.voting,status:t.status,txHash:t.txHash}})(T),D=e=>{var t,n=e.loading,l=e.txHash,v=e.match,f=e.dispatch,g=e.voting,b=i["a"].useForm(),I=u()(b,1),N=I[0],O=null===v||void 0===v?void 0:v.params["id"];Object(c["useEffect"])(()=>Object(d["dispatchFetchVoting"])(f,O),[O]);var y={display:"block",height:"50px",lineHeight:"50px",minWidth:"150px"},x=e=>{var t=e.authorizationToken,n=e.optionCode;g?Object(d["dispatchPerformVote"])(f,t,g,n):r["a"].error({message:"Voting not found"})};return n?s.a.createElement("p",null,"Loading..."):g?s.a.createElement("div",null,(null===g||void 0===g?void 0:g.visibility)===m["b"].PRIVATE&&s.a.createElement(p["LockOutlined"],null),(null===g||void 0===g?void 0:g.visibility)===m["b"].UNLISTED&&s.a.createElement(p["LinkOutlined"],null),(null===g||void 0===g?void 0:g.visibility)===m["b"].PUBLIC&&s.a.createElement(p["EyeOutlined"],null),s.a.createElement("span",{style:{marginLeft:4}},(null===g||void 0===g?void 0:g.authorization)===m["a"].CODE&&s.a.createElement(p["KeyOutlined"],null),(null===g||void 0===g?void 0:g.authorization)===m["a"].CUSTOM&&s.a.createElement(p["KeyOutlined"],null),(null===g||void 0===g?void 0:g.authorization)===m["a"].EMAIL&&s.a.createElement(p["MailOutlined"],null),(null===g||void 0===g?void 0:g.authorization)===m["a"].PUBLIC&&s.a.createElement(p["NotificationOutlined"],null)),s.a.createElement("span",{style:{marginLeft:4}},s.a.createElement("span",{style:{marginRight:4}},h()(null===g||void 0===g?void 0:g.startDate).format("ll")),"-",s.a.createElement("span",{style:{marginLeft:4}},h()(null===g||void 0===g?void 0:g.endDate).format("ll"))),s.a.createElement("h1",{style:{marginTop:8}},null===g||void 0===g?void 0:g.title),s.a.createElement("h4",null,null===g||void 0===g?void 0:g.polls[0].question),s.a.createElement(i["a"],{layout:"vertical",name:"vote_form",onFinish:x,form:N},s.a.createElement(i["a"].Item,{name:"optionCode",rules:[{required:!0,message:"Please select your option!"}]},s.a.createElement(o["a"].Group,{buttonStyle:"solid",size:"large"},null===(t=g.polls[0].options)||void 0===t?void 0:t.map(e=>s.a.createElement(o["a"].Button,{style:y,key:e.code,value:e.code},e.name)))),"public"!==(null===g||void 0===g?void 0:g.authorization)&&s.a.createElement(i["a"].Item,{label:"Authorization code",name:"authorizationToken",rules:[{required:!0,message:"Please input your authorization code!"}]},s.a.createElement(a["a"],{style:{maxWidth:200}})),s.a.createElement(i["a"].Item,null,s.a.createElement(E["b"],{disabled:l,htmlType:"submit"},"Submit"))),s.a.createElement(C,null)):s.a.createElement("p",null,"Failed to load voting")};t["default"]=Object(v["c"])(e=>{var t=e.voting,n=e.loading;return{voting:t.voting,status:t.status,loading:n.effects["".concat(d["VOTING"],"/").concat(d["FETCH_VOTING"])],txHash:t.txHash}})(D)}}]);