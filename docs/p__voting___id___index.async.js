(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{CQ3q:function(e,n,t){"use strict";var a=t("fFZ8"),o=t.n(a),i=t("vOnD"),l="#ffffff",r="#979797",u="#6c72f9";function c(){var e=o()(["\n  background-color: ",";\n  width: 150px;\n  font-size: 16px;\n  padding: 10px 0;\n  &:disabled {\n    opacity: 0.5;\n    cursor: default;\n  }\n"]);return c=function(){return e},e}function d(){var e=o()(["\n  background-color: ",";\n  float: right;\n  font-size: 16px;\n  margin-left: 10px;\n  padding: 10px 0;\n  width: 120px;\n  &:disabled {\n    background: ",";\n    opacity: 0.6;\n    pointer-events: none;\n    cursor: default;\n  }\n"]);return d=function(){return e},e}function s(){var e=o()(["\n  background-color: ",";\n  border-radius: 5px;\n  border: 0;\n  color: ",";\n  cursor: pointer;\n  font-family: 'Clear Sans Bold','Nitti Grotesk','Museo Sans','Helvetica Neue',Verdana,Arial,sans-serif;\n  font-size: 18px;\n  font-weight: 500;\n  line-height: initial;\n  padding: 14px 0 18px 0;\n  &:hover {\n    opacity: 0.8;\n  }\n  &:focus {\n    outline: 0;\n  }\n"]);return s=function(){return e},e}t.d(n,"a",function(){return m}),t.d(n,"b",function(){return p});var v=i["a"].button(s(),u,l),m=Object(i["a"])(v)(d(),e=>e.color,r),p=Object(i["a"])(v)(c(),e=>e.color?e.color:u)},JKkQ:function(e,n,t){"use strict";var a,o;t.d(n,"b",function(){return a}),t.d(n,"a",function(){return o}),function(e){e["PUBLIC"]="public",e["UNLISTED"]="unlisted",e["PRIVATE"]="private"}(a||(a={})),function(e){e["PUBLIC"]="public",e["EMAIL"]="email",e["CODE"]="code",e["CUSTOM"]="custom"}(o||(o={}))},vHNZ:function(e,n,t){"use strict";t.r(n);t("MXD1");var a=t("CFYs"),o=(t("5NDa"),t("5rEg")),i=(t("7Kak"),t("9yH6")),l=(t("/xke"),t("TeRw")),r=(t("y8nQ"),t("Vl3Y")),u=t("qIgq"),c=t.n(u),d=t("q1tI"),s=t.n(d),v=t("tbAx"),m=t("/MKj"),p=t("JKkQ"),E=t("6gli"),f=t("CQ3q"),g=t("71ry"),h=t("wd/R"),b=t.n(h);function I(e){var n=7;switch(e){case E["a"].INITIALIZING:return Math.round(1/n*100);case E["a"].CREATING_BLINDED_TRANSACTIONS:return Math.round(2/n*100);case E["a"].REQUESTED_CHALLENGE:return Math.round(3/n*100);case E["a"].PROOFING_CHALLENGE:return Math.round(4/n*100);case E["a"].CALCULATING_SIGNATURE:return Math.round(5/n*100);case E["a"].CASTING_VOTE:return Math.round(6/n*100);case E["a"].DONE:return Math.round(7/n*100);default:case E["a"].UNDEFINED:return 0}}function y(e){switch(e){case E["a"].ERROR:return"exception";case E["a"].DONE:return"success";case E["a"].UNDEFINED:return"normal";default:return"active"}}var N=e=>{var n,t=e.loading,u=e.match,m=e.dispatch,E=e.voting,h=e.status,N=r["a"].useForm(),O=c()(N,1),C=O[0],T=null===u||void 0===u?void 0:u.params["id"];console.log({votingSlug:T}),Object(d["useEffect"])(()=>Object(v["dispatchFetchVoting"])(m,T),[T]);var L={display:"block",height:"50px",lineHeight:"50px",minWidth:"150px"},k=e=>{console.log(e);var n=e.authorizationToken,t=e.optionCode;E?(console.log({authorizationToken:n,voting:E,optionCode:t}),Object(v["dispatchPerformVote"])(m,n,E,t)):l["a"].error({message:"Voting not found"})};return console.log({voting:E}),t?s.a.createElement("p",null,"Loading..."):E?s.a.createElement("div",null,(null===E||void 0===E?void 0:E.visibility)===p["b"].PRIVATE&&s.a.createElement(g["LockOutlined"],null),(null===E||void 0===E?void 0:E.visibility)===p["b"].UNLISTED&&s.a.createElement(g["LinkOutlined"],null),(null===E||void 0===E?void 0:E.visibility)===p["b"].PUBLIC&&s.a.createElement(g["EyeOutlined"],null),s.a.createElement("span",{style:{marginLeft:4}},(null===E||void 0===E?void 0:E.authorization)===p["a"].CODE&&s.a.createElement(g["KeyOutlined"],null),(null===E||void 0===E?void 0:E.authorization)===p["a"].CUSTOM&&s.a.createElement(g["KeyOutlined"],null),(null===E||void 0===E?void 0:E.authorization)===p["a"].EMAIL&&s.a.createElement(g["MailOutlined"],null),(null===E||void 0===E?void 0:E.authorization)===p["a"].PUBLIC&&s.a.createElement(g["NotificationOutlined"],null)),s.a.createElement("span",{style:{marginLeft:4}},s.a.createElement("span",{style:{marginRight:4}},b()(null===E||void 0===E?void 0:E.startDate).format("ll")),"-",s.a.createElement("span",{style:{marginLeft:4}},b()(null===E||void 0===E?void 0:E.endDate).format("ll"))),s.a.createElement("h1",{style:{marginTop:8}},null===E||void 0===E?void 0:E.title),s.a.createElement("h4",null,null===E||void 0===E?void 0:E.polls[0].question),s.a.createElement(r["a"],{layout:"vertical",name:"vote_form",onFinish:k,form:C},s.a.createElement(r["a"].Item,{name:"optionCode",rules:[{required:!0,message:"Please select your option!"}]},s.a.createElement(i["a"].Group,{buttonStyle:"solid",size:"large"},null===(n=E.polls[0].options)||void 0===n?void 0:n.map(e=>s.a.createElement(i["a"].Button,{style:L,key:e.code,value:e.code},e.name)))),"public"!==(null===E||void 0===E?void 0:E.authorization)&&s.a.createElement(r["a"].Item,{label:"Authorization code",name:"authorizationToken",rules:[{required:!0,message:"Please input your authorization code!"}]},s.a.createElement(o["a"],{style:{maxWidth:200}})),s.a.createElement(r["a"].Item,null,s.a.createElement(f["b"],{htmlType:"submit"},"Submit"))),h&&s.a.createElement("div",null,s.a.createElement(a["a"],{percent:I(h),strokeColor:"#1890ff",size:"small",style:{maxWidth:150},status:y(h)}),s.a.createElement("p",null,h))):s.a.createElement("p",null,"Failed to load voting")};n["default"]=Object(m["c"])(e=>{var n=e.voting,t=e.loading;return{voting:n.voting,status:n.status,loading:t.effects["".concat(v["VOTING"],"/").concat(v["FETCH_VOTING"])]}})(N)}}]);